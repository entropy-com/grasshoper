# CLAUDE.md

This file provides guidance to Claude Code (claude.ai/code) when working with code in this repository.

## Build Commands

- `yarn build` or `npm run build` - Compile TypeScript to JavaScript in `/dist`
- `tsc` - Direct TypeScript compilation

## Architecture Overview

This is a JavaScript/TypeScript SDK for RunPod's serverless API. The entire SDK is contained in a single file (`src/index.ts`) with a class-based architecture:

### Core Classes
- `RunpodSdk` - Main SDK class, initialized with API key and optional config
- `Endpoint` - Represents a serverless endpoint, provides methods for job management

### Key Concepts
- **Serverless Endpoints**: Remote compute resources identified by endpoint IDs
- **Jobs/Requests**: Tasks submitted to endpoints with input payloads
- **Execution Policies**: Configuration for timeouts and priority (`ExecutionPolicy` type)
- **Streaming**: Some endpoints support yielding multiple results via async generators

### API Patterns
- All endpoint methods accept optional `timeout` parameter (milliseconds)
- Functions are curried using Ramda for partial application
- Two execution modes: async (`run`) and sync with polling (`runSync`)
- Status checking via polling with `/status` and `/status-sync` endpoints

### HTTP Client
Uses `xior` (axios-like) for HTTP requests with custom error handling and user agent.

## Environment Configuration

The SDK supports two base URLs:
- Production: `https://api.runpod.ai/v2` (default)
- Development: `https://dev-api.runpod.ai/v2`

Configure via `SdkOptions.baseUrl` when initializing the SDK.

## Publishing

From README-dev.md:
```bash
yarn build  # Required before publishing to refresh TypeScript definitions
npm login
npm publish
```