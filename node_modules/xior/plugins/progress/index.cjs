function e(e,t,r,n,l,o,a){try{var u=e[o](a),i=u.value}catch(e){r(e);return}u.done?t(i):Promise.resolve(i).then(n,l)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(t={}){let{progressDuration:r=5e3}=t;return function(t){var n;return n=function*(e){let n;let{progressDuration:l=r,onUploadProgress:o,onDownloadProgress:a}=e;if(o||a){let e=0,t=0,r=1e3/(l/300);n=setInterval(()=>{if(t>=99)return clearInterval(n);e+=Math.random()*r,t=Math.floor(e/1e3*100);let l={total:1e3,loaded:e,progress:t};l.progress>=99&&(l.progress=99,l.loaded=990),null==o||o(l),null==a||a(l)},300)}try{let r=yield t(e);if(o||a){let e={total:1e3,loaded:1e3,progress:100};null==o||o(e),null==a||a(e)}return r}catch(e){throw e}finally{n&&clearInterval(n)}},function(){var t=this,r=arguments;return new Promise(function(l,o){var a=n.apply(t,r);function u(t){e(a,l,o,u,i,"next",t)}function i(t){e(a,l,o,u,i,"throw",t)}u(void 0)})}}};
